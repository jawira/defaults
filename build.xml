<?xml version="1.0" encoding="UTF-8" ?>

<project name="Skeleton" default="diagnostics">

    <!--TARGETS-->
    <target name="diagnostics">
        <diagnostics/>
    </target>

    <target name="readme:update" description="Update readme file">
        <property name="tree.path" value="/usr/bin/tree"/>
        <exec executable="${tree.path}" outputProperty="tree">
            <arg value="-a"/>
            <arg value="resources/warehouse/"/>
        </exec>
        <reflexive file="README.md">
            <filterchain>
                <replaceregexp>
                    <regexp pattern="&lt;!--tree:start--&gt;.*&lt;!--tree:end--&gt;"
                            replace="&lt;!--tree:start--&gt;${line.separator}```${line.separator}${tree}${line.separator}```${line.separator}&lt;!--tree:end--&gt;"
                            modifiers="Us"/>
                </replaceregexp>
            </filterchain>
        </reflexive>
    </target>

    <target name="git:tag-listing" description="List all git tags">
        <!--https://stackoverflow.com/a/34239190/4345061-->
        <exec executable="git" passthru="true">
            <arg value="log"/>
            <arg line="--graph --all --decorate --oneline --simplify-by-decoration"/>
        </exec>
    </target>

</project>
